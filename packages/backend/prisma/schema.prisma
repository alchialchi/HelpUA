datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum UILanguage {
  ENGLISH
  RUSSIAN
  UKRAINIAN
}

enum SpokenLanguage {
  ENGLISH
  RUSSIAN
  UKRAINIAN
  SWEDISH
  POLISH
  ROMANIAN
  GERMAN
}

enum Role {
  HELPEE
  HELPER
}

enum Category {
  URGENT_CARE
  TRANSPORTATION
  LOCAL_INFORMATION
  ACCOMODATION
  MEDICAL_HELP
}

model User {
  id             Int        @id @default(autoincrement())
  telegramUserId Int        @unique
  chatId         Int
  uiLanguage     UILanguage
  offers         Offer[]
  requests       Request[]
}

model Offer {
  id         Int        @id @default(autoincrement())
  user       User       @relation(fields: [userId], references: [id])
  userId     Int
  category   Category
  languages  SpokenLanguage[]
  matches    Match[]
}

model Request {
  id         Int        @id @default(autoincrement())
  user       User       @relation(fields: [userId], references: [id])
  userId     Int
  caterogy   Category
  languages  SpokenLanguage[]
  matches    Match[]
}

model Match {
  id        Int     @id @default(autoincrement())
  offer     Offer   @relation(fields: [offerId], references: [id])
  offerId   Int
  request   Request @relation(fields: [requestId], references: [id])
  requestId Int
}
